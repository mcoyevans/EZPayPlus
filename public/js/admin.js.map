{"version":3,"sources":["admin.module.js","admin.routes.js","controllers/main-view.controller.js","controllers/dialogs/edit-profile-dialog.controller.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["var adminModule = angular.module('admin', ['sharedModule']);","adminModule\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\t// controller: 'dashboardContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 'subheader@main': {\r\n\t\t\t\t\t// \ttemplateUrl: '/app/shared/templates/subheaders/dashboard-subheader.template.html',\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t'content@main':{\r\n\t\t\t\t\t\t// templateUrl: '/app/shared/templates/content/dashboard-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.admin-settings', {\r\n\t\t\t\turl: 'admin-settings',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'profileSettingsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.admin-settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.admin-settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.admin-settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/subheaders/dashboard-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.admin-settings':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/admin-settings-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.profile-settings', {\r\n\t\t\t\turl: 'profile-settings',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'profileSettingsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.profile-settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.profile-settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.profile-settings':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/profile-settings-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}]);","adminModule\r\n\t.controller('mainViewController', ['$scope', '$state', '$mdDialog', '$mdSidenav', '$mdToast', 'Helper', function($scope, $state, $mdDialog, $mdSidenav, $mdToast, Helper){\r\n\t\t$scope.toggleSidenav = function(menuID){\r\n\t\t\t$mdSidenav(menuID).toggle();\r\n\t\t}\r\n\r\n\t\t$scope.menu = {};\r\n\r\n\t\t$scope.menu.static = [\r\n\t\t\t{\r\n\t\t\t\t'state': 'main',\r\n\t\t\t\t'icon': 'mdi-view-dashboard',\r\n\t\t\t\t'label': 'Dashboard',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.hris',\r\n\t\t\t\t'icon': 'mdi-account-multiple',\r\n\t\t\t\t'label': 'HRIS',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.payroll',\r\n\t\t\t\t'icon': 'mdi-currency-usd',\r\n\t\t\t\t'label': 'Payroll',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.notifications',\r\n\t\t\t\t'icon': 'mdi-bell',\r\n\t\t\t\t'label': 'Notifications',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.menu.section = [\r\n\t\t\t{\r\n\t\t\t\t'name':'Settings',\r\n\t\t\t\t'icon':'mdi-settings',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.menu.pages = [\r\n\t\t\t[\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'Admin',\r\n\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t$state.go('main.admin-settings');\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'HRIS',\r\n\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t$state.go('main.hris-settings');\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'Payroll',\r\n\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t$state.go('main.payroll-settings');\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'Profile',\r\n\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t$state.go('main.profile-settings');\r\n\t\t\t\t\t}, \r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'Time Keeping',\r\n\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t$state.go('main.time-keeping-settings');\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t];\r\n\r\n\t\t// set section as active\r\n\t\t$scope.setActive = function(index){\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').toggleClass('active'));\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').siblings().removeClass('active'));\r\n\t\t};\r\n\t\t\r\n\t\t$scope.logout = function(){\r\n\t\t\tHelper.post('/user/logout')\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\twindow.location.href = '/';\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.changePassword = function()\r\n\t\t{\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'changePasswordDialogController',\r\n\t\t      templateUrl: '/app/shared/templates/dialogs/change-password-dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      fullscreen: true,\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \tHelper.notify('Password changed.')\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\tHelper.post('/user/check')\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.user = data;\r\n\t\t\t})\r\n\r\n\t\t$scope.$on('fetchAuthenticatedUser', function(){\r\n\t\t\tconsole.log($scope.user);\r\n\t\t});\r\n\t}]);","adminModule\r\n\t.controller('editProfileDialogController', ['$scope', '$filter', 'Helper', function($scope, $filter, Helper){\r\n\t\t$scope.company = {};\r\n\t\t$scope.company.country_id = 177; //Philippines\r\n\r\n\t\t$scope.busy = false;\r\n\r\n\t\tvar busy = false;\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.checkCity = function(){\r\n\t\t\tvar query = {};\r\n\t\t\tquery.search = $scope.company.city;\r\n\t\t\tquery.strict_search = true;\r\n\r\n\t\t\tHelper.post('/city/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.cities = data;\r\n\t\t\t\t\t$scope.showError = data.length ? false : true;\r\n\r\n\t\t\t\t\tif($scope.company.province_id)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.checkProvince();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.fetchProvinces = function(){\r\n\t\t\tHelper.post('/province/enlist', $scope.company)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.provinces = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.checkProvince = function(){\r\n\t\t\tvar query = {};\r\n\t\t\tquery.where = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': $scope.company.province_id\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tquery.city = $scope.company.city;\r\n\t\t\tquery.result = 'first';\r\n\r\n\t\t\tHelper.post('/province/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.noMatches = data.cities.length ? false : true;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.formatPagIBIG = function(){\r\n\t\t\tif($scope.companyForm.PagIBIG.$valid)\r\n\t\t\t{\r\n\t\t\t\tvar first = $scope.pagibig.slice(0,4);\r\n\t\t\t\tvar second = $scope.pagibig.slice(4,8);\r\n\t\t\t\tvar third = $scope.pagibig.slice(8,12);\r\n\r\n\t\t\t\t$scope.company.pagibig = first + '-' + second + '-' + third;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.formatPhilHealth = function(){\r\n\t\t\tif($scope.companyForm.PhilHealth.$valid)\r\n\t\t\t{\r\n\t\t\t\tvar first = $scope.philhealth.slice(0,2);\r\n\t\t\t\tvar second = $scope.philhealth.slice(2,11);\r\n\t\t\t\tvar third = $scope.philhealth.slice(11,12);\r\n\r\n\t\t\t\t$scope.company.philhealth = first + '-' + second + '-' + third;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.formatSSS = function(){\r\n\t\t\tif($scope.companyForm.SSS.$valid)\r\n\t\t\t{\r\n\t\t\t\tvar first = $scope.sss.slice(0,2);\r\n\t\t\t\tvar second = $scope.sss.slice(2,9);\r\n\t\t\t\tvar third = $scope.sss.slice(9,10);\r\n\r\n\t\t\t\t$scope.company.sss = first + '-' + second + '-' + third;\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t\t$scope.formatTIN = function(){\r\n\t\t\tif($scope.companyForm.TIN.$valid)\r\n\t\t\t{\r\n\t\t\t\tvar first = $scope.tin.slice(0,3);\r\n\t\t\t\tvar second = $scope.tin.slice(3,6);\r\n\t\t\t\tvar third = $scope.tin.slice(6,9);\r\n\r\n\t\t\t\t$scope.company.tin = first + '-' + second + '-' + third;\r\n\t\t\t}\r\n\t\t}\t\t\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.companyForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.companyForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$scope.busy = true;\r\n\t\t\tHelper.put('/company/1', $scope.company)\r\n\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\tHelper.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.init = function()\r\n\t\t{\r\n\t\t\tvar query = {};\r\n\r\n\t\t\tquery.with = ['city'];\r\n\r\n\t\t\tHelper.post('/company/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tdata.city = data.city.name;\r\n\r\n\t\t\t\t\t$scope.pagibig = data.pagibig.replace(/-/g, '');\r\n\t\t\t\t\t$scope.philhealth = data.philhealth.replace(/-/g, '');\r\n\t\t\t\t\t$scope.sss = data.sss.replace(/-/g, '');\r\n\t\t\t\t\t$scope.tin = data.tin.replace(/-/g, '');\r\n\r\n\t\t\t\t\t$scope.company = data;\r\n\r\n\t\t\t\t\t$scope.checkCity();\r\n\t\t\t\t\t$scope.fetchProvinces();\r\n\t\t\t\t})\r\n\t\t}();\r\n\t}]);"],"sourceRoot":"/source/"}